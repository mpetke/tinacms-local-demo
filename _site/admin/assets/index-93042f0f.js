import{bP as E,bQ as w,aS as u,bR as an,bS as sn,bT as cn,bU as dn,bV as fn,bW as pn,bX as mn,bY as vn,bZ as hn,b_ as ft,b$ as gn,c0 as bn,c1 as yn,c2 as q,c3 as be,c4 as wn,c5 as En,c6 as Pn}from"./index-fa1ba195.js";function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pt(Object(n),!0).forEach(function(r){Sn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function On(e,t){if(e==null)return{};var n=Mn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cn(e,t){return $n(e)||xn(e,t)||Tn(e,t)||Rn()}function $n(e){if(Array.isArray(e))return e}function xn(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,o=!1,i=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){o=!0,i=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(o)throw i}}return n}}function Tn(e,t){if(e){if(typeof e=="string")return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}}function vt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ht(Object(n),!0).forEach(function(r){Fn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(o,i){return i(o)},r)}}function ge(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(n,[].concat(o,s))}}}function xe(e){return{}.toString.call(e).includes("Object")}function jn(e){return!Object.keys(e).length}function we(e){return typeof e=="function"}function In(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function An(e,t){return xe(t)||le("changeType"),Object.keys(t).some(function(n){return!In(e,n)})&&le("changeField"),t}function Ln(e){we(e)||le("selectorType")}function kn(e){we(e)||xe(e)||le("handlerType"),xe(e)&&Object.values(e).some(function(t){return!we(t)})&&le("handlersType")}function Dn(e){e||le("initialIsRequired"),xe(e)||le("initialType"),jn(e)&&le("initialContent")}function Hn(e,t){throw new Error(e[t]||e.default)}var Bn={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},le=ge(Hn)(Bn),Oe={changes:An,selector:Ln,handler:kn,initial:Dn};function Un(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Oe.initial(e),Oe.handler(t);var n={current:e},r=ge(Wn)(n,t),o=ge(Vn)(n),i=ge(Oe.changes)(e),a=ge(_n)(n);function s(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(c){return c};return Oe.selector(d),d(n.current)}function l(d){Nn(r,o,i,a)(d)}return[s,l]}function _n(e,t){return we(t)?t(e.current):t}function Vn(e,t){return e.current=gt(gt({},e.current),t),t}function Wn(e,t,n){return we(t)?t(e.current):Object.keys(n).forEach(function(r){var o;return(o=t[r])===null||o===void 0?void 0:o.call(t,e.current[r])}),n}var qn={create:Un},zn={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function Xn(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(n,[].concat(o,s))}}}function Gn(e){return{}.toString.call(e).includes("Object")}function Kn(e){return e||bt("configIsRequired"),Gn(e)||bt("configType"),e.urls?(Yn(),{paths:{vs:e.urls.monacoBase}}):e}function Yn(){console.warn(Mt.deprecation)}function Jn(e,t){throw new Error(e[t]||e.default)}var Mt={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},bt=Xn(Jn)(Mt),Zn={config:Kn},Qn=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(o){return n.reduceRight(function(i,a){return a(i)},o)}};function Ot(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Ot(e[n],t[n]))}),mt(mt({},e),t)}var er={type:"cancelation",msg:"operation is manually canceled"};function We(e){var t=!1,n=new Promise(function(r,o){e.then(function(i){return t?o(er):r(i)}),e.catch(o)});return n.cancel=function(){return t=!0},n}var tr=qn.create({config:zn,isInitialized:!1,resolve:null,reject:null,monaco:null}),Ct=Cn(tr,2),Pe=Ct[0],je=Ct[1];function nr(e){var t=Zn.config(e),n=t.monaco,r=On(t,["monaco"]);je(function(o){return{config:Ot(o.config,r),monaco:n}})}function rr(){var e=Pe(function(t){var n=t.monaco,r=t.isInitialized,o=t.resolve;return{monaco:n,isInitialized:r,resolve:o}});if(!e.isInitialized){if(je({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),We(qe);if(window.monaco&&window.monaco.editor)return $t(window.monaco),e.resolve(window.monaco),We(qe);Qn(or,lr)(ur)}return We(qe)}function or(e){return document.body.appendChild(e)}function ir(e){var t=document.createElement("script");return e&&(t.src=e),t}function lr(e){var t=Pe(function(r){var o=r.config,i=r.reject;return{config:o,reject:i}}),n=ir("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function ur(){var e=Pe(function(n){var r=n.config,o=n.resolve,i=n.reject;return{config:r,resolve:o,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){$t(n),e.resolve(n)},function(n){e.reject(n)})}function $t(e){Pe().monaco||je({monaco:e})}function ar(){return Pe(function(e){var t=e.monaco;return t})}var qe=new Promise(function(e,t){return je({resolve:e,reject:t})}),Te={config:nr,init:rr,__getMonacoInstance:ar};function Ye(){return Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye.apply(this,arguments)}const sr={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};function cr({content:e}){return E.createElement("div",{style:sr},e)}const ze={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function xt({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:i,wrapperProps:a}){return E.createElement("section",Ye({style:{...ze.wrapper,width:e,height:t}},a),!n&&E.createElement(cr,{content:r}),E.createElement("div",{ref:o,style:{...ze.fullWidth,...!n&&ze.hide},className:i}))}xt.propTypes={width:w.oneOfType([w.number,w.string]).isRequired,height:w.oneOfType([w.number,w.string]).isRequired,loading:w.oneOfType([w.element,w.string]).isRequired,isEditorReady:w.bool.isRequired,className:w.string,wrapperProps:w.object};var Tt=u.memo(xt);function nt(e){u.useEffect(e,[])}function Z(e,t,n=!0){const r=u.useRef(!0);u.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}function ye(){}function Re(e,t,n,r){return dr(e,r)||fr(e,t,n,r)}function dr(e,t){return e.editor.getModel(Rt(e,t))}function fr(e,t,n,r){return e.editor.createModel(t,n,r&&Rt(e,r))}function Rt(e,t){return e.Uri.parse(t)}function pr(e){return e===void 0}function Ft({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:a,keepCurrentOriginalModel:s,keepCurrentModifiedModel:l,theme:d,loading:c,options:h,height:g,width:p,className:f,wrapperProps:v,beforeMount:b,onMount:P}){const[$,O]=u.useState(!1),[j,N]=u.useState(!0),D=u.useRef(null),T=u.useRef(null),H=u.useRef(null),k=u.useRef(P),S=u.useRef(b);nt(()=>{const M=Te.init();return M.then(I=>(T.current=I)&&N(!1)).catch(I=>(I==null?void 0:I.type)!=="cancelation"&&console.error("Monaco initialization: error:",I)),()=>D.current?B():M.cancel()}),Z(()=>{const M=D.current.getModifiedEditor();M.getOption(T.current.editor.EditorOption.readOnly)?M.setValue(t):t!==M.getValue()&&(M.executeEdits("",[{range:M.getModel().getFullModelRange(),text:t,forceMoveMarkers:!0}]),M.pushUndoStop())},[t],$),Z(()=>{D.current.getModel().original.setValue(e)},[e],$),Z(()=>{const{original:M,modified:I}=D.current.getModel();T.current.editor.setModelLanguage(M,r||n),T.current.editor.setModelLanguage(I,o||n)},[n,r,o],$),Z(()=>{T.current.editor.setTheme(d)},[d],$),Z(()=>{D.current.updateOptions(h)},[h],$);const L=u.useCallback(()=>{S.current(T.current);const M=Re(T.current,e,r||n,i),I=Re(T.current,t,o||n,a);D.current.setModel({original:M,modified:I})},[n,t,o,e,r,i,a]),U=u.useCallback(()=>{D.current=T.current.editor.createDiffEditor(H.current,{automaticLayout:!0,...h}),L(),T.current.editor.setTheme(d),O(!0)},[h,d,L]);u.useEffect(()=>{$&&k.current(D.current,T.current)},[$]),u.useEffect(()=>{!j&&!$&&U()},[j,$,U]);function B(){const M=D.current.getModel();if(!s){var I;(I=M.original)===null||I===void 0||I.dispose()}if(!l){var W;(W=M.modified)===null||W===void 0||W.dispose()}D.current.dispose()}return E.createElement(Tt,{width:p,height:g,isEditorReady:$,loading:c,_ref:H,className:f,wrapperProps:v})}Ft.propTypes={original:w.string,modified:w.string,language:w.string,originalLanguage:w.string,modifiedLanguage:w.string,originalModelPath:w.string,modifiedModelPath:w.string,keepCurrentOriginalModel:w.bool,keepCurrentModifiedModel:w.bool,theme:w.string,loading:w.oneOfType([w.element,w.string]),options:w.object,width:w.oneOfType([w.number,w.string]),height:w.oneOfType([w.number,w.string]),className:w.string,wrapperProps:w.object,beforeMount:w.func,onMount:w.func};Ft.defaultProps={theme:"light",loading:"Loading...",options:{},keepCurrentOriginalModel:!1,keepCurrentModifiedModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:ye,onMount:ye};function mr(){const[e,t]=u.useState(Te.__getMonacoInstance());return nt(()=>{let n;return e||(n=Te.init(),n.then(r=>{t(r)})),()=>{var r;return(r=n)===null||r===void 0?void 0:r.cancel()}}),e}function vr(e){const t=u.useRef();return u.useEffect(()=>{t.current=e},[e]),t.current}const Ce=new Map;function rt({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:o,path:i,theme:a,line:s,loading:l,options:d,overrideServices:c,saveViewState:h,keepCurrentModel:g,width:p,height:f,className:v,wrapperProps:b,beforeMount:P,onMount:$,onChange:O,onValidate:j}){const[N,D]=u.useState(!1),[T,H]=u.useState(!0),k=u.useRef(null),S=u.useRef(null),L=u.useRef(null),U=u.useRef($),B=u.useRef(P),M=u.useRef(null),I=u.useRef(r),W=vr(i);nt(()=>{const m=Te.init();return m.then(y=>(k.current=y)&&H(!1)).catch(y=>(y==null?void 0:y.type)!=="cancelation"&&console.error("Monaco initialization: error:",y)),()=>S.current?C():m.cancel()}),Z(()=>{const m=Re(k.current,e||r,t||o,i);m!==S.current.getModel()&&(h&&Ce.set(W,S.current.saveViewState()),S.current.setModel(m),h&&S.current.restoreViewState(Ce.get(i)))},[i],N),Z(()=>{S.current.updateOptions(d)},[d],N),Z(()=>{S.current.getOption(k.current.editor.EditorOption.readOnly)?S.current.setValue(r):r!==S.current.getValue()&&(S.current.executeEdits("",[{range:S.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),S.current.pushUndoStop())},[r],N),Z(()=>{k.current.editor.setModelLanguage(S.current.getModel(),o)},[o],N),Z(()=>{pr(s)||S.current.revealLine(s)},[s],N),Z(()=>{k.current.editor.setTheme(a)},[a],N);const z=u.useCallback(()=>{B.current(k.current);const m=i||n,y=Re(k.current,r||e,t||o,m);S.current=k.current.editor.create(L.current,{model:y,automaticLayout:!0,...d},c),h&&S.current.restoreViewState(Ce.get(m)),k.current.editor.setTheme(a),D(!0)},[e,t,n,r,o,i,d,c,h,a]);u.useEffect(()=>{N&&U.current(S.current,k.current)},[N]),u.useEffect(()=>{!T&&!N&&z()},[T,N,z]),I.current=r,u.useEffect(()=>{if(N&&O){var m,y;(m=M.current)===null||m===void 0||m.dispose(),M.current=(y=S.current)===null||y===void 0?void 0:y.onDidChangeModelContent(R=>{const x=S.current.getValue();I.current!==x&&O(x,R)})}},[N,O]),u.useEffect(()=>{if(N){const m=k.current.editor.onDidChangeMarkers(y=>{var R;const x=(R=S.current.getModel())===null||R===void 0?void 0:R.uri;if(x&&y.find(_=>_.path===x.path)){const _=k.current.editor.getModelMarkers({resource:x});j==null||j(_)}});return()=>{m==null||m.dispose()}}},[N,j]);function C(){var m;if((m=M.current)===null||m===void 0||m.dispose(),g)h&&Ce.set(i,S.current.saveViewState());else{var y;(y=S.current.getModel())===null||y===void 0||y.dispose()}S.current.dispose()}return E.createElement(Tt,{width:p,height:f,isEditorReady:N,loading:l,_ref:L,className:v,wrapperProps:b})}rt.propTypes={defaultValue:w.string,defaultPath:w.string,defaultLanguage:w.string,value:w.string,language:w.string,path:w.string,theme:w.string,line:w.number,loading:w.oneOfType([w.element,w.string]),options:w.object,overrideServices:w.object,saveViewState:w.bool,keepCurrentModel:w.bool,width:w.oneOfType([w.number,w.string]),height:w.oneOfType([w.number,w.string]),className:w.string,wrapperProps:w.object,beforeMount:w.func,onMount:w.func,onChange:w.func,onValidate:w.func};rt.defaultProps={theme:"light",loading:"Loading...",options:{},overrideServices:{},saveViewState:!0,keepCurrentModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:ye,onMount:ye,onValidate:ye};var hr=u.memo(rt),gr=Object.defineProperty,br=(e,t,n)=>t in e?gr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xe=(e,t,n)=>(br(e,typeof t!="symbol"?t+"":t,n),n);let yr=class{constructor(){Xe(this,"current",this.detect()),Xe(this,"handoffState","pending"),Xe(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},de=new yr;function Se(e){return de.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function Nt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function fe(){let e=[],t={addEventListener(n,r,o,i){return n.addEventListener(r,o,i),t.add(()=>n.removeEventListener(r,o,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Nt(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=fe();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function Ie(){let[e]=u.useState(fe);return u.useEffect(()=>()=>e.dispose(),[e]),e}let V=(e,t)=>{de.isServer?u.useEffect(e,t):u.useLayoutEffect(e,t)};function re(e){let t=u.useRef(e);return V(()=>{t.current=e},[e]),t}let F=function(e){let t=re(e);return E.useCallback((...n)=>t.current(...n),[t])};function wr(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Er(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Pr({disabled:e=!1}={}){let t=u.useRef(null),[n,r]=u.useState(!1),o=Ie(),i=F(()=>{t.current=null,r(!1),o.dispose()}),a=F(s=>{if(o.dispose(),t.current===null){t.current=s.currentTarget,r(!0);{let l=Se(s.currentTarget);o.addEventListener(l,"pointerup",i,!1),o.addEventListener(l,"pointermove",d=>{if(t.current){let c=wr(d);r(Er(c,t.current.getBoundingClientRect()))}},!1),o.addEventListener(l,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:a,onPointerUp:i,onClick:i}}}function Je(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function J(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,J),r}var pe=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(pe||{}),ie=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ie||{});function ee({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:i=!0,name:a,mergeRefs:s}){s=s??Mr;let l=jt(t,e);if(i)return $e(l,n,r,a,s);let d=o??0;if(d&2){let{static:c=!1,...h}=l;if(c)return $e(h,n,r,a,s)}if(d&1){let{unmount:c=!0,...h}=l;return J(c?0:1,{0(){return null},1(){return $e({...h,hidden:!0,style:{display:"none"}},n,r,a,s)}})}return $e(l,n,r,a,s)}function $e(e,t={},n,r,o){let{as:i=n,children:a,refName:s="ref",...l}=Ge(e,["unmount","static"]),d=e.ref!==void 0?{[s]:e.ref}:{},c=typeof a=="function"?a(t):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(t){let g=!1,p=[];for(let[f,v]of Object.entries(t))typeof v=="boolean"&&(g=!0),v===!0&&p.push(f.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(g){h["data-headlessui-state"]=p.join(" ");for(let f of p)h[`data-${f}`]=""}}if(i===u.Fragment&&(Object.keys(ae(l)).length>0||Object.keys(ae(h)).length>0))if(!u.isValidElement(c)||Array.isArray(c)&&c.length>1){if(Object.keys(ae(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ae(l)).concat(Object.keys(ae(h))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=c.props,p=g==null?void 0:g.className,f=typeof p=="function"?(...P)=>Je(p(...P),l.className):Je(p,l.className),v=f?{className:f}:{},b=jt(c.props,ae(Ge(l,["ref"])));for(let P in h)P in b&&delete h[P];return u.cloneElement(c,Object.assign({},b,h,d,{ref:o(c.ref,d.ref)},v))}return u.createElement(i,Object.assign({},Ge(l,["ref"]),i!==u.Fragment&&d,i!==u.Fragment&&h),c)}function Sr(){let e=u.useRef([]),t=u.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function Mr(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function jt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[o=>{var i;return(i=o==null?void 0:o.preventDefault)==null?void 0:i.call(o)}]);for(let r in n)Object.assign(t,{[r](o,...i){let a=n[r];for(let s of a){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;s(o,...i)}}});return t}function Ze(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];for(let r in n)Object.assign(t,{[r](...o){let i=n[r];for(let a of i)a==null||a(...o)}});return t}function Y(e){var t;return Object.assign(u.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ae(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Ge(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let Or="span";var Ee=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ee||{});function Cr(e,t){var n;let{features:r=1,...o}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return ee({ourProps:i,theirProps:o,slot:{},defaultTag:Or,name:"Hidden"})}let Fe=Y(Cr);function It(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&$r(n)?!1:r}function $r(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let At=Symbol();function Lt(e,t=!0){return Object.assign(e,{[At]:t})}function Q(...e){let t=u.useRef(e);u.useEffect(()=>{t.current=e},[e]);let n=F(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[At]))?void 0:n}var oe=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(oe||{});let xr=u.createContext(()=>{});function Tr({value:e,children:t}){return E.createElement(xr.Provider,{value:e},t)}function Rr(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function Fr(e,t=!1){let[n,r]=u.useReducer(()=>({}),{}),o=u.useMemo(()=>Rr(e),[e,n]);return V(()=>{if(!e)return;let i=new ResizeObserver(r);return i.observe(e),()=>{i.disconnect()}},[e]),t?{width:`${o.width}px`,height:`${o.height}px`}:o}let Nr=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function kt(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...i){let a=t[o].call(n,...i);a&&(n=a,r.forEach(s=>s()))}}}function Dt(e){return u.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let jr=new Nr(()=>kt(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function Ht(e,t){let n=jr.get(t),r=u.useId(),o=Dt(n);if(V(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let i=o.indexOf(r),a=o.length;return i===-1&&(i=a,a+=1),i===a-1}function Ir(e,t,n){let r=re(o=>{let i=o.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});u.useEffect(()=>{if(!e)return;let o=t===null?null:t instanceof HTMLElement?t:t.current;if(!o)return;let i=fe();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(o));a.observe(o),i.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(o));a.observe(o),i.add(()=>a.disconnect())}return()=>i.dispose()},[t,r,e])}let Qe=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Ar=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var te=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(te||{}),Ne=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Ne||{}),Lr=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Lr||{});function Ae(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Qe)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function kr(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Ar)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ot=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ot||{});function Bt(e,t=0){var n;return e===((n=Se(e))==null?void 0:n.body)?!1:J(t,{0(){return e.matches(Qe)},1(){let r=e;for(;r!==null;){if(r.matches(Qe))return!0;r=r.parentElement}return!1}})}var Dr=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Dr||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let Hr=["textarea","input"].join(",");function Br(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Hr))!=null?n:!1}function Ur(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),i=t(r);if(o===null||i===null)return 0;let a=o.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function se(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?Ur(e):e:t&64?kr(e):Ae(e);o.length>0&&a.length>1&&(a=a.filter(p=>!o.some(f=>f!=null&&"current"in f?(f==null?void 0:f.current)===p:f===p))),r=r??i.activeElement;let s=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},c=0,h=a.length,g;do{if(c>=h||c+h<=0)return 0;let p=l+c;if(t&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}g=a[p],g==null||g.focus(d),c+=s}while(g!==i.activeElement);return t&6&&Br(g)&&g.select(),2}function Ut(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function _r(){return/Android/gi.test(window.navigator.userAgent)}function Vr(){return Ut()||_r()}function he(e,t,n,r){let o=re(n);u.useEffect(()=>{if(!e)return;function i(a){o.current(a)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function _t(e,t,n,r){let o=re(n);u.useEffect(()=>{if(!e)return;function i(a){o.current(a)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const yt=30;function Wr(e,t,n){let r=Ht(e,"outside-click"),o=re(n),i=u.useCallback(function(l,d){if(l.defaultPrevented)return;let c=d(l);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let h=function g(p){return typeof p=="function"?g(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let g of h)if(g!==null&&(g.contains(c)||l.composed&&l.composedPath().includes(g)))return;return!Bt(c,ot.Loose)&&c.tabIndex!==-1&&l.preventDefault(),o.current(l,c)},[o,t]),a=u.useRef(null);he(r,"pointerdown",l=>{var d,c;a.current=((c=(d=l.composedPath)==null?void 0:d.call(l))==null?void 0:c[0])||l.target},!0),he(r,"mousedown",l=>{var d,c;a.current=((c=(d=l.composedPath)==null?void 0:d.call(l))==null?void 0:c[0])||l.target},!0),he(r,"click",l=>{Vr()||a.current&&(i(l,()=>a.current),a.current=null)},!0);let s=u.useRef({x:0,y:0});he(r,"touchstart",l=>{s.current.x=l.touches[0].clientX,s.current.y=l.touches[0].clientY},!0),he(r,"touchend",l=>{let d={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(d.x-s.current.x)>=yt||Math.abs(d.y-s.current.y)>=yt))return i(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),_t(r,"blur",l=>i(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function me(...e){return u.useMemo(()=>Se(...e),[...e])}function qr(e,t,n,r){let o=re(n);u.useEffect(()=>{e=e??window;function i(a){o.current(a)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function zr(e,t){return u.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function Xr(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-o);n.style(r,"paddingRight",`${i}px`)}}}function Gr(){return Ut()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(i=>i()).some(i=>i.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=fe();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let i=(o=window.scrollY)!=null?o:window.pageYOffset,a=null;t.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let l=s.target.closest("a");if(!l)return;let{hash:d}=new URL(l.href),c=e.querySelector(d);c&&!r(c)&&(a=c)}catch{}},!0),t.addEventListener(e,"touchstart",s=>{if(s.target instanceof HTMLElement)if(r(s.target)){let l=s.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(s.target,"touchAction","none")}),t.addEventListener(e,"touchmove",s=>{if(s.target instanceof HTMLElement){if(s.target.tagName==="INPUT")return;if(r(s.target)){let l=s.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()}},{passive:!1}),t.add(()=>{var s;let l=(s=window.scrollY)!=null?s:window.pageYOffset;i!==l&&window.scrollTo(0,i),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function Kr(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Yr(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let ce=kt(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:fe(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Yr(n)},o=[Gr(),Xr(),Kr()];o.forEach(({before:i})=>i==null?void 0:i(r)),o.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ce.subscribe(()=>{let e=ce.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&ce.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ce.dispatch("TEARDOWN",n)}});function Jr(e,t,n=()=>({containers:[]})){let r=Dt(ce),o=t?r.get(t):void 0,i=o?o.count>0:!1;return V(()=>{if(!(!t||!e))return ce.dispatch("PUSH",t,n),()=>ce.dispatch("POP",t,n)},[e,t]),i}function Zr(e,t,n=()=>[document.body]){let r=Ht(e,"scroll-lock");Jr(r,t,o=>{var i;return{containers:[...(i=o.containers)!=null?i:[],n]}})}function Qr(e=0){let[t,n]=u.useState(e),r=u.useCallback(l=>n(l),[t]),o=u.useCallback(l=>n(d=>d|l),[t]),i=u.useCallback(l=>(t&l)===l,[t]),a=u.useCallback(l=>n(d=>d&~l),[n]),s=u.useCallback(l=>n(d=>d^l),[n]);return{flags:t,setFlag:r,addFlag:o,hasFlag:i,removeFlag:a,toggleFlag:s}}var wt;typeof process<"u"&&typeof globalThis<"u"&&((wt=process==null?void 0:new Object({TINA_PUBLIC_IS_LOCAL:"false"}))==null?void 0:wt.NODE_ENV)==="test"&&typeof Element.prototype.getAnimations>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var eo=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(eo||{});function it(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function lt(e,t,n,r){let[o,i]=u.useState(n),{hasFlag:a,addFlag:s,removeFlag:l}=Qr(e&&o?3:0),d=u.useRef(!1),c=u.useRef(!1),h=Ie();return V(()=>{var g;if(e){if(n&&i(!0),!t){n&&s(3);return}return(g=r==null?void 0:r.start)==null||g.call(r,n),to(t,{inFlight:d,prepare(){c.current?c.current=!1:c.current=d.current,d.current=!0,!c.current&&(n?(s(3),l(4)):(s(4),l(2)))},run(){c.current?n?(l(3),s(4)):(l(4),s(3)):n?l(1):s(1)},done(){var p;c.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(d.current=!1,l(7),n||i(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[e,n,t,h]),e?[o,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function to(e,{prepare:t,run:n,done:r,inFlight:o}){let i=fe();return ro(e,{prepare:t,inFlight:o}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(no(e,r))})}),i.dispose}function no(e,t){var n,r;let o=fe();if(!e)return o.dispose;let i=!1;o.add(()=>{i=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(s=>s instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),o.dispose):(Promise.allSettled(a.map(s=>s.finished)).then(()=>{i||t()}),o.dispose)}function ro(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}let Me=u.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Me.displayName="FloatingContext";let ut=u.createContext(null);ut.displayName="PlacementContext";function oo(e){return u.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function io(){return u.useContext(Me).setReference}function lo(){let{getFloatingProps:e,slot:t}=u.useContext(Me);return u.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function uo(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=u.useContext(ut),n=u.useMemo(()=>e,[JSON.stringify(e,typeof HTMLElement<"u"?(o,i)=>i instanceof HTMLElement?i.outerHTML:i:void 0)]);V(()=>{t==null||t(n??null)},[t,n]);let r=u.useContext(Me);return u.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let Et=4;function ao({children:e,enabled:t=!0}){let[n,r]=u.useState(null),[o,i]=u.useState(0),a=u.useRef(null),[s,l]=u.useState(null);so(s);let d=t&&n!==null&&s!==null,{to:c="bottom",gap:h=0,offset:g=0,padding:p=0,inner:f}=co(n,s),[v,b="center"]=c.split(" ");V(()=>{d&&i(0)},[d]);let{refs:P,floatingStyles:$,context:O}=an({open:d,placement:v==="selection"?b==="center"?"bottom":`bottom-${b}`:b==="center"?`${v}`:`${v}-${b}`,strategy:"absolute",transform:!1,middleware:[sn({mainAxis:v==="selection"?0:h,crossAxis:g}),cn({padding:p}),v!=="selection"&&dn({padding:p}),v==="selection"&&f?fn({...f,padding:p,overflowRef:a,offset:o,minItemsVisible:Et,referenceOverflowThreshold:p,onFallbackChange(L){var U,B;if(!L)return;let M=O.elements.floating;if(!M)return;let I=parseFloat(getComputedStyle(M).scrollPaddingBottom)||0,W=Math.min(Et,M.childElementCount),z=0,C=0;for(let m of(B=(U=O.elements.floating)==null?void 0:U.childNodes)!=null?B:[])if(m instanceof HTMLElement){let y=m.offsetTop,R=y+m.clientHeight+I,x=M.scrollTop,A=x+M.clientHeight;if(y>=x&&R<=A)W--;else{C=Math.max(0,Math.min(R,A)-Math.max(y,x)),z=m.clientHeight;break}}W>=1&&i(m=>{let y=z*W-C+I;return m>=y?m:y})}}):null,pn({padding:p,apply({availableWidth:L,availableHeight:U,elements:B}){Object.assign(B.floating.style,{overflow:"auto",maxWidth:`${L}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${U}px)`})}})].filter(Boolean),whileElementsMounted:mn}),[j=v,N=b]=O.placement.split("-");v==="selection"&&(j="selection");let D=u.useMemo(()=>({anchor:[j,N].filter(Boolean).join(" ")}),[j,N]),T=vn(O,{overflowRef:a,onChange:i}),{getReferenceProps:H,getFloatingProps:k}=hn([T]),S=F(L=>{l(L),P.setFloating(L)});return u.createElement(ut.Provider,{value:r},u.createElement(Me.Provider,{value:{setFloating:S,setReference:P.setReference,styles:$,getReferenceProps:H,getFloatingProps:k,slot:D}},e))}function so(e){V(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let o=parseInt(n);isNaN(o)||r!==o&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function co(e,t){var n,r,o;let i=Ke((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),a=Ke((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),s=Ke((o=e==null?void 0:e.padding)!=null?o:"var(--anchor-padding, 0)",t);return{...e,gap:i,offset:a,padding:s}}function Ke(e,t,n=void 0){let r=Ie(),o=F((l,d)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!d)return[n,null];let c=Pt(l,d);return[c,h=>{let g=Vt(l);{let p=g.map(f=>window.getComputedStyle(d).getPropertyValue(f));r.requestAnimationFrame(function f(){r.nextFrame(f);let v=!1;for(let[P,$]of g.entries()){let O=window.getComputedStyle(d).getPropertyValue($);if(p[P]!==O){p[P]=O,v=!0;break}}if(!v)return;let b=Pt(l,d);c!==b&&(h(b),c=b)})}return r.dispose}]}return[n,null]}),i=u.useMemo(()=>o(e,t)[0],[e,t]),[a=i,s]=u.useState();return V(()=>{let[l,d]=o(e,t);if(s(l),!!d)return d(s)},[e,t]),a}function Vt(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),o=t[1].slice(n+1).trim();return o?[r,...Vt(o)]:[r]}return[]}function Pt(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let Le=u.createContext(null);Le.displayName="OpenClosedContext";var K=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(K||{});function ke(){return u.useContext(Le)}function Wt({value:e,children:t}){return E.createElement(Le.Provider,{value:e},t)}function fo({children:e}){return E.createElement(Le.Provider,{value:null},e)}function po(e){let t=F(e),n=u.useRef(!1);u.useEffect(()=>(n.current=!1,()=>{n.current=!0,Nt(()=>{n.current&&t()})}),[t])}function mo(){let e=typeof document>"u";return"useSyncExternalStore"in ft?(t=>t.useSyncExternalStore)(ft)(()=>()=>{},()=>!1,()=>!e):!1}function at(){let e=mo(),[t,n]=u.useState(de.isHandoffComplete);return t&&de.isHandoffComplete===!1&&n(!1),u.useEffect(()=>{t!==!0&&n(!0)},[t]),u.useEffect(()=>de.handoff(),[]),e?!1:t}let vo=u.createContext(!1);function ho(){return u.useContext(vo)}function go(e){let t=ho(),n=u.useContext(zt),r=me(e),[o,i]=u.useState(()=>{var a;if(!t&&n!==null)return(a=n.current)!=null?a:null;if(de.isServer)return null;let s=r==null?void 0:r.getElementById("headlessui-portal-root");if(s)return s;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return u.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),u.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),o}let qt=u.Fragment,bo=Y(function(e,t){let n=e,r=u.useRef(null),o=Q(Lt(c=>{r.current=c}),t),i=me(r),a=go(r),[s]=u.useState(()=>{var c;return de.isServer?null:(c=i==null?void 0:i.createElement("div"))!=null?c:null}),l=u.useContext(et),d=at();return V(()=>{!a||!s||a.contains(s)||(s.setAttribute("data-headlessui-portal",""),a.appendChild(s))},[a,s]),V(()=>{if(s&&l)return l.register(s)},[l,s]),po(()=>{var c;!a||!s||(s instanceof Node&&a.contains(s)&&a.removeChild(s),a.childNodes.length<=0&&((c=a.parentElement)==null||c.removeChild(a)))}),d?!a||!s?null:gn.createPortal(ee({ourProps:{ref:o},theirProps:n,slot:{},defaultTag:qt,name:"Portal"}),s):null});function yo(e,t){let n=Q(t),{enabled:r=!0,...o}=e;return r?E.createElement(bo,{...o,ref:n}):ee({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:qt,name:"Portal"})}let wo=u.Fragment,zt=u.createContext(null);function Eo(e,t){let{target:n,...r}=e,o={ref:Q(t)};return E.createElement(zt.Provider,{value:n},ee({ourProps:o,theirProps:r,defaultTag:wo,name:"Popover.Group"}))}let et=u.createContext(null);function Po(){let e=u.useContext(et),t=u.useRef([]),n=F(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=F(i=>{let a=t.current.indexOf(i);a!==-1&&t.current.splice(a,1),e&&e.unregister(i)}),o=u.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,u.useMemo(()=>function({children:i}){return E.createElement(et.Provider,{value:o},i)},[o])]}let So=Y(yo),Mo=Y(Eo),Oo=Object.assign(So,{Group:Mo});function Co({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=me(n),o=F(()=>{var i,a;let s=[];for(let l of e)l!==null&&(l instanceof HTMLElement?s.push(l):"current"in l&&l.current instanceof HTMLElement&&s.push(l.current));if(t!=null&&t.current)for(let l of t.current)s.push(l);for(let l of(i=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?i:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((a=n==null?void 0:n.getRootNode())==null?void 0:a.host))||s.some(d=>l.contains(d))||s.push(l));return s});return{resolveContainers:o,contains:F(i=>o().some(a=>a.contains(i)))}}let Xt=u.createContext(null);function Gt({children:e,node:t}){let[n,r]=u.useState(null),o=Kt(t??n);return E.createElement(Xt.Provider,{value:o},e,o===null&&E.createElement(Fe,{features:Ee.Hidden,ref:i=>{var a,s;if(i){for(let l of(s=(a=Se(i))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?s:[])if(l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l!=null&&l.contains(i)){r(l);break}}}}))}function Kt(e=null){var t;return(t=u.useContext(Xt))!=null?t:e}function $o(){let e=u.useRef(!1);return V(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var ne=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ne||{});function Yt(){let e=u.useRef(0);return _t(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Jt(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:Qt)!==u.Fragment||E.Children.count(e.children)===1}let De=u.createContext(null);De.displayName="TransitionContext";var xo=(e=>(e.Visible="visible",e.Hidden="hidden",e))(xo||{});function To(){let e=u.useContext(De);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Ro(){let e=u.useContext(He);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let He=u.createContext(null);He.displayName="NestingContext";function Be(e){return"children"in e?Be(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Zt(e,t){let n=re(e),r=u.useRef([]),o=$o(),i=Ie(),a=F((p,f=ie.Hidden)=>{let v=r.current.findIndex(({el:b})=>b===p);v!==-1&&(J(f,{[ie.Unmount](){r.current.splice(v,1)},[ie.Hidden](){r.current[v].state="hidden"}}),i.microTask(()=>{var b;!Be(r)&&o.current&&((b=n.current)==null||b.call(n))}))}),s=F(p=>{let f=r.current.find(({el:v})=>v===p);return f?f.state!=="visible"&&(f.state="visible"):r.current.push({el:p,state:"visible"}),()=>a(p,ie.Unmount)}),l=u.useRef([]),d=u.useRef(Promise.resolve()),c=u.useRef({enter:[],leave:[]}),h=F((p,f,v)=>{l.current.splice(0),t&&(t.chains.current[f]=t.chains.current[f].filter(([b])=>b!==p)),t==null||t.chains.current[f].push([p,new Promise(b=>{l.current.push(b)})]),t==null||t.chains.current[f].push([p,new Promise(b=>{Promise.all(c.current[f].map(([P,$])=>$)).then(()=>b())})]),f==="enter"?d.current=d.current.then(()=>t==null?void 0:t.wait.current).then(()=>v(f)):v(f)}),g=F((p,f,v)=>{Promise.all(c.current[f].splice(0).map(([b,P])=>P)).then(()=>{var b;(b=l.current.shift())==null||b()}).then(()=>v(f))});return u.useMemo(()=>({children:r,register:s,unregister:a,onStart:h,onStop:g,wait:d,chains:c}),[s,a,r,h,g,c,d])}let Qt=u.Fragment,en=pe.RenderStrategy;function Fo(e,t){var n,r;let{transition:o=!0,beforeEnter:i,afterEnter:a,beforeLeave:s,afterLeave:l,enter:d,enterFrom:c,enterTo:h,entered:g,leave:p,leaveFrom:f,leaveTo:v,...b}=e,[P,$]=u.useState(null),O=u.useRef(null),j=Jt(e),N=Q(...j?[O,t,$]:t===null?[]:[t]),D=(n=b.unmount)==null||n?ie.Unmount:ie.Hidden,{show:T,appear:H,initial:k}=To(),[S,L]=u.useState(T?"visible":"hidden"),U=Ro(),{register:B,unregister:M}=U;V(()=>B(O),[B,O]),V(()=>{if(D===ie.Hidden&&O.current){if(T&&S!=="visible"){L("visible");return}return J(S,{hidden:()=>M(O),visible:()=>B(O)})}},[S,O,B,M,T,D]);let I=at();V(()=>{if(j&&I&&S==="visible"&&O.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[O,S,I,j]);let W=k&&!H,z=H&&T&&k,C=u.useRef(!1),m=Zt(()=>{C.current||(L("hidden"),M(O))},U),y=F(G=>{C.current=!0;let ue=G?"enter":"leave";m.onStart(O,ue,ve=>{ve==="enter"?i==null||i():ve==="leave"&&(s==null||s())})}),R=F(G=>{let ue=G?"enter":"leave";C.current=!1,m.onStop(O,ue,ve=>{ve==="enter"?a==null||a():ve==="leave"&&(l==null||l())}),ue==="leave"&&!Be(m)&&(L("hidden"),M(O))});u.useEffect(()=>{j&&o||(y(T),R(T))},[T,j,o]);let x=(()=>!(!o||!j||!I||W))(),[,A]=lt(x,P,T,{start:y,end:R}),_=ae({ref:N,className:((r=Je(b.className,z&&d,z&&c,A.enter&&d,A.enter&&A.closed&&c,A.enter&&!A.closed&&h,A.leave&&p,A.leave&&!A.closed&&f,A.leave&&A.closed&&v,!A.transition&&T&&g))==null?void 0:r.trim())||void 0,...it(A)}),X=0;return S==="visible"&&(X|=K.Open),S==="hidden"&&(X|=K.Closed),A.enter&&(X|=K.Opening),A.leave&&(X|=K.Closing),E.createElement(He.Provider,{value:m},E.createElement(Wt,{value:X},ee({ourProps:_,theirProps:b,defaultTag:Qt,features:en,visible:S==="visible",name:"Transition.Child"})))}function No(e,t){let{show:n,appear:r=!1,unmount:o=!0,...i}=e,a=u.useRef(null),s=Jt(e),l=Q(...s?[a,t]:t===null?[]:[t]);at();let d=ke();if(n===void 0&&d!==null&&(n=(d&K.Open)===K.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,h]=u.useState(n?"visible":"hidden"),g=Zt(()=>{n||h("hidden")}),[p,f]=u.useState(!0),v=u.useRef([n]);V(()=>{p!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),f(!1))},[v,n]);let b=u.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);V(()=>{n?h("visible"):!Be(g)&&a.current!==null&&h("hidden")},[n,g]);let P={unmount:o},$=F(()=>{var j;p&&f(!1),(j=e.beforeEnter)==null||j.call(e)}),O=F(()=>{var j;p&&f(!1),(j=e.beforeLeave)==null||j.call(e)});return E.createElement(He.Provider,{value:g},E.createElement(De.Provider,{value:b},ee({ourProps:{...P,as:u.Fragment,children:E.createElement(tn,{ref:l,...P,...i,beforeEnter:$,beforeLeave:O})},theirProps:{},defaultTag:u.Fragment,features:en,visible:c==="visible",name:"Transition"})))}function jo(e,t){let n=u.useContext(De)!==null,r=ke()!==null;return E.createElement(E.Fragment,null,!n&&r?E.createElement(tt,{ref:t,...e}):E.createElement(tn,{ref:t,...e}))}let tt=Y(No),tn=Y(Fo),Io=Y(jo),Ao=Object.assign(tt,{Child:Io,Root:tt});var Lo=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Lo||{}),ko=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(ko||{});let Do={0:e=>({...e,popoverState:J(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},st=u.createContext(null);st.displayName="PopoverContext";function Ue(e){let t=u.useContext(st);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ue),n}return t}let _e=u.createContext(null);_e.displayName="PopoverAPIContext";function ct(e){let t=u.useContext(_e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ct),n}return t}let dt=u.createContext(null);dt.displayName="PopoverGroupContext";function nn(){return u.useContext(dt)}let Ve=u.createContext(null);Ve.displayName="PopoverPanelContext";function Ho(){return u.useContext(Ve)}function Bo(e,t){return J(t.type,Do,e,t)}let Uo="div";function _o(e,t){var n;let{__demoMode:r=!1,...o}=e,i=u.useRef(null),a=Q(t,Lt(C=>{i.current=C})),s=u.useRef([]),l=u.useReducer(Bo,{__demoMode:r,popoverState:r?0:1,buttons:s,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:u.createRef(),afterPanelSentinel:u.createRef(),afterButtonSentinel:u.createRef()}),[{popoverState:d,button:c,buttonId:h,panel:g,panelId:p,beforePanelSentinel:f,afterPanelSentinel:v,afterButtonSentinel:b},P]=l,$=me((n=i.current)!=null?n:c),O=u.useMemo(()=>{if(!c||!g)return!1;for(let _ of document.querySelectorAll("body > *"))if(Number(_==null?void 0:_.contains(c))^Number(_==null?void 0:_.contains(g)))return!0;let C=Ae(),m=C.indexOf(c),y=(m+C.length-1)%C.length,R=(m+1)%C.length,x=C[y],A=C[R];return!g.contains(x)&&!g.contains(A)},[c,g]),j=re(h),N=re(p),D=u.useMemo(()=>({buttonId:j,panelId:N,close:()=>P({type:1})}),[j,N,P]),T=nn(),H=T==null?void 0:T.registerPopover,k=F(()=>{var C;return(C=T==null?void 0:T.isFocusWithinPopoverGroup())!=null?C:($==null?void 0:$.activeElement)&&((c==null?void 0:c.contains($.activeElement))||(g==null?void 0:g.contains($.activeElement)))});u.useEffect(()=>H==null?void 0:H(D),[H,D]);let[S,L]=Po(),U=Kt(c),B=Co({mainTreeNode:U,portals:S,defaultContainers:[c,g]});qr($==null?void 0:$.defaultView,"focus",C=>{var m,y,R,x,A,_;C.target!==window&&C.target instanceof HTMLElement&&d===0&&(k()||c&&g&&(B.contains(C.target)||(y=(m=f.current)==null?void 0:m.contains)!=null&&y.call(m,C.target)||(x=(R=v.current)==null?void 0:R.contains)!=null&&x.call(R,C.target)||(_=(A=b.current)==null?void 0:A.contains)!=null&&_.call(A,C.target)||P({type:1})))},!0),Wr(d===0,B.resolveContainers,(C,m)=>{P({type:1}),Bt(m,ot.Loose)||(C.preventDefault(),c==null||c.focus())});let M=F(C=>{P({type:1});let m=(()=>C?C instanceof HTMLElement?C:"current"in C&&C.current instanceof HTMLElement?C.current:c:c)();m==null||m.focus()}),I=u.useMemo(()=>({close:M,isPortalled:O}),[M,O]),W=u.useMemo(()=>({open:d===0,close:M}),[d,M]),z={ref:a};return E.createElement(Gt,{node:U},E.createElement(ao,null,E.createElement(Ve.Provider,{value:null},E.createElement(st.Provider,{value:l},E.createElement(_e.Provider,{value:I},E.createElement(Tr,{value:M},E.createElement(Wt,{value:J(d,{0:K.Open,1:K.Closed})},E.createElement(L,null,ee({ourProps:z,theirProps:o,slot:W,defaultTag:Uo,name:"Popover"})))))))))}let Vo="button";function Wo(e,t){let n=u.useId(),{id:r=`headlessui-popover-button-${n}`,disabled:o=!1,autoFocus:i=!1,...a}=e,[s,l]=Ue("Popover.Button"),{isPortalled:d}=ct("Popover.Button"),c=u.useRef(null),h=`headlessui-focus-sentinel-${u.useId()}`,g=nn(),p=g==null?void 0:g.closeOthers,f=Ho()!==null;u.useEffect(()=>{if(!f)return l({type:3,buttonId:r}),()=>{l({type:3,buttonId:null})}},[f,r,l]);let[v]=u.useState(()=>Symbol()),b=Q(c,t,io(),F(m=>{if(!f){if(m)s.buttons.current.push(v);else{let y=s.buttons.current.indexOf(v);y!==-1&&s.buttons.current.splice(y,1)}s.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),m&&l({type:2,button:m})}})),P=Q(c,t),$=me(c),O=F(m=>{var y,R,x;if(f){if(s.popoverState===1)return;switch(m.key){case oe.Space:case oe.Enter:m.preventDefault(),(R=(y=m.target).click)==null||R.call(y),l({type:1}),(x=s.button)==null||x.focus();break}}else switch(m.key){case oe.Space:case oe.Enter:m.preventDefault(),m.stopPropagation(),s.popoverState===1&&(p==null||p(s.buttonId)),l({type:0});break;case oe.Escape:if(s.popoverState!==0)return p==null?void 0:p(s.buttonId);if(!c.current||$!=null&&$.activeElement&&!c.current.contains($.activeElement))return;m.preventDefault(),m.stopPropagation(),l({type:1});break}}),j=F(m=>{f||m.key===oe.Space&&m.preventDefault()}),N=F(m=>{var y,R;It(m.currentTarget)||o||(f?(l({type:1}),(y=s.button)==null||y.focus()):(m.preventDefault(),m.stopPropagation(),s.popoverState===1&&(p==null||p(s.buttonId)),l({type:0}),(R=s.button)==null||R.focus()))}),D=F(m=>{m.preventDefault(),m.stopPropagation()}),{isFocusVisible:T,focusProps:H}=bn({autoFocus:i}),{isHovered:k,hoverProps:S}=yn({isDisabled:o}),{pressed:L,pressProps:U}=Pr({disabled:o}),B=s.popoverState===0,M=u.useMemo(()=>({open:B,active:L||B,disabled:o,hover:k,focus:T,autofocus:i}),[B,k,T,L,o,i]),I=zr(e,s.button),W=Ze(f?{ref:P,type:I,onKeyDown:O,onClick:N,disabled:o||void 0,autoFocus:i}:{ref:b,id:s.buttonId,type:I,"aria-expanded":s.popoverState===0,"aria-controls":s.panel?s.panelId:void 0,disabled:o||void 0,autoFocus:i,onKeyDown:O,onKeyUp:j,onClick:N,onMouseDown:D},H,S,U),z=Yt(),C=F(()=>{let m=s.panel;if(!m)return;function y(){J(z.current,{[ne.Forwards]:()=>se(m,te.First),[ne.Backwards]:()=>se(m,te.Last)})===Ne.Error&&se(Ae().filter(R=>R.dataset.headlessuiFocusGuard!=="true"),J(z.current,{[ne.Forwards]:te.Next,[ne.Backwards]:te.Previous}),{relativeTo:s.button})}y()});return E.createElement(E.Fragment,null,ee({ourProps:W,theirProps:a,slot:M,defaultTag:Vo,name:"Popover.Button"}),B&&!f&&d&&E.createElement(Fe,{id:h,ref:s.afterButtonSentinel,features:Ee.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:C}))}let qo="div",zo=pe.RenderStrategy|pe.Static;function rn(e,t){let n=u.useId(),{id:r=`headlessui-popover-backdrop-${n}`,transition:o=!1,...i}=e,[{popoverState:a},s]=Ue("Popover.Backdrop"),[l,d]=u.useState(null),c=Q(t,d),h=ke(),[g,p]=lt(o,l,h!==null?(h&K.Open)===K.Open:a===0),f=F(P=>{if(It(P.currentTarget))return P.preventDefault();s({type:1})}),v=u.useMemo(()=>({open:a===0}),[a]),b={ref:c,id:r,"aria-hidden":!0,onClick:f,...it(p)};return ee({ourProps:b,theirProps:i,slot:v,defaultTag:qo,features:zo,visible:g,name:"Popover.Backdrop"})}let Xo="div",Go=pe.RenderStrategy|pe.Static;function Ko(e,t){let n=u.useId(),{id:r=`headlessui-popover-panel-${n}`,focus:o=!1,anchor:i,portal:a=!1,modal:s=!1,transition:l=!1,...d}=e,[c,h]=Ue("Popover.Panel"),{close:g,isPortalled:p}=ct("Popover.Panel"),f=`headlessui-focus-sentinel-before-${n}`,v=`headlessui-focus-sentinel-after-${n}`,b=u.useRef(null),P=oo(i),[$,O]=uo(P),j=lo();P&&(a=!0);let[N,D]=u.useState(null),T=Q(b,t,P?$:null,F(y=>h({type:4,panel:y})),D),H=me(b),k=Sr();V(()=>(h({type:5,panelId:r}),()=>{h({type:5,panelId:null})}),[r,h]);let S=ke(),[L,U]=lt(l,N,S!==null?(S&K.Open)===K.Open:c.popoverState===0);Ir(L,c.button,()=>{h({type:1})});let B=c.__demoMode?!1:s&&L;Zr(B,H);let M=F(y=>{var R;switch(y.key){case oe.Escape:if(c.popoverState!==0||!b.current||H!=null&&H.activeElement&&!b.current.contains(H.activeElement))return;y.preventDefault(),y.stopPropagation(),h({type:1}),(R=c.button)==null||R.focus();break}});u.useEffect(()=>{var y;e.static||c.popoverState===1&&((y=e.unmount)==null||y)&&h({type:4,panel:null})},[c.popoverState,e.unmount,e.static,h]),u.useEffect(()=>{if(c.__demoMode||!o||c.popoverState!==0||!b.current)return;let y=H==null?void 0:H.activeElement;b.current.contains(y)||se(b.current,te.First)},[c.__demoMode,o,b.current,c.popoverState]);let I=u.useMemo(()=>({open:c.popoverState===0,close:g}),[c.popoverState,g]),W=Ze(P?j():{},{ref:T,id:r,onKeyDown:M,onBlur:o&&c.popoverState===0?y=>{var R,x,A,_,X;let G=y.relatedTarget;G&&b.current&&((R=b.current)!=null&&R.contains(G)||(h({type:1}),((A=(x=c.beforePanelSentinel.current)==null?void 0:x.contains)!=null&&A.call(x,G)||(X=(_=c.afterPanelSentinel.current)==null?void 0:_.contains)!=null&&X.call(_,G))&&G.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...d.style,...O,"--button-width":Fr(c.button,!0).width},...it(U)}),z=Yt(),C=F(()=>{let y=b.current;if(!y)return;function R(){J(z.current,{[ne.Forwards]:()=>{var x;se(y,te.First)===Ne.Error&&((x=c.afterPanelSentinel.current)==null||x.focus())},[ne.Backwards]:()=>{var x;(x=c.button)==null||x.focus({preventScroll:!0})}})}R()}),m=F(()=>{let y=b.current;if(!y)return;function R(){J(z.current,{[ne.Forwards]:()=>{if(!c.button)return;let x=Ae(),A=x.indexOf(c.button),_=x.slice(0,A+1),X=[...x.slice(A+1),..._];for(let G of X.slice())if(G.dataset.headlessuiFocusGuard==="true"||N!=null&&N.contains(G)){let ue=X.indexOf(G);ue!==-1&&X.splice(ue,1)}se(X,te.First,{sorted:!1})},[ne.Backwards]:()=>{var x;se(y,te.Previous)===Ne.Error&&((x=c.button)==null||x.focus())}})}R()});return E.createElement(fo,null,E.createElement(Ve.Provider,{value:r},E.createElement(_e.Provider,{value:{close:g,isPortalled:p}},E.createElement(Oo,{enabled:a?e.static||L:!1},L&&p&&E.createElement(Fe,{id:f,ref:c.beforePanelSentinel,features:Ee.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:C}),ee({mergeRefs:k,ourProps:W,theirProps:d,slot:I,defaultTag:Xo,features:Go,visible:L,name:"Popover.Panel"}),L&&p&&E.createElement(Fe,{id:v,ref:c.afterPanelSentinel,features:Ee.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:m})))))}let Yo="div";function Jo(e,t){let n=u.useRef(null),r=Q(n,t),[o,i]=u.useState([]),a=F(f=>{i(v=>{let b=v.indexOf(f);if(b!==-1){let P=v.slice();return P.splice(b,1),P}return v})}),s=F(f=>(i(v=>[...v,f]),()=>a(f))),l=F(()=>{var f;let v=Se(n);if(!v)return!1;let b=v.activeElement;return(f=n.current)!=null&&f.contains(b)?!0:o.some(P=>{var $,O;return(($=v.getElementById(P.buttonId.current))==null?void 0:$.contains(b))||((O=v.getElementById(P.panelId.current))==null?void 0:O.contains(b))})}),d=F(f=>{for(let v of o)v.buttonId.current!==f&&v.close()}),c=u.useMemo(()=>({registerPopover:s,unregisterPopover:a,isFocusWithinPopoverGroup:l,closeOthers:d}),[s,a,l,d]),h=u.useMemo(()=>({}),[]),g=e,p={ref:r};return E.createElement(Gt,null,E.createElement(dt.Provider,{value:c},ee({ourProps:p,theirProps:g,slot:h,defaultTag:Yo,name:"Popover.Group"})))}let Zo=Y(_o),on=Y(Wo),Qo=Y(rn),ei=Y(rn),ln=Y(Ko),ti=Y(Jo),ni=Object.assign(Zo,{Button:on,Backdrop:ei,Overlay:Qo,Panel:ln,Group:ti});function ri(e,t){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),u.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))}const oi=u.forwardRef(ri),St=oi,un=e=>({message:e.message,position:e.position&&{endColumn:e.position.end.column,startColumn:e.position.start.column,startLineNumber:e.position.start.line,endLineNumber:e.position.end.line}}),ii=e=>{if(!e)return"";const t=un(e);return t?`${t.message}${t.position?` at line: ${t.position.startLineNumber}, column: ${t.position.startColumn}`:""}`:null};function li({error:e}){const t=ii(e);return q(ni,{className:"relative",children:()=>be(wn,{children:[be(on,{className:`p-2 shaodw-lg border ${e?"":" opacity-0 hidden "}`,children:[q("span",{className:"sr-only",children:"Errors"}),q(St,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})]}),q(Ao,{enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:q(ln,{className:"absolute top-8 w-[300px] -right-3 z-10 mt-3 px-4 sm:px-0",children:q("div",{className:"overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:q("div",{className:"rounded bg-red-50 p-4 overflow-scroll",children:be("div",{className:"flex",children:[q("div",{className:"flex-shrink-0",children:q(St,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),q("div",{className:"ml-3",children:q("h3",{className:"text-sm font-medium text-red-800 whitespace-pre-wrap",children:t})})]})})})})})]})})}function ui(e,t){const[n,r]=u.useState(e);return u.useEffect(()=>{const o=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(o)}},[e,t]),n}const ai=()=>("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)),si=e=>{const t=mr(),n=E.useRef(null),[r,o]=E.useState(100),i=E.useMemo(()=>ai(),[]),a=e.field,s=E.useMemo(()=>{const f=En(e.input.value,a,v=>v);return typeof e.input.value=="string"?e.input.value:f},[]),[l,d]=E.useState(s),[c,h]=E.useState(null),g=ui(l,500);E.useEffect(()=>{const f=Pn(l,a,v=>v);if(f.children[0]&&f.children[0].type==="invalid_markdown"){const v=f.children[0];h(v)}else h(null);e.input.onChange(f)},[JSON.stringify(g)]),E.useEffect(()=>{if(n.current)if(c){const f=un(c);t.editor.setModelMarkers(n.current.getModel(),i,[{...f.position,message:f.message,severity:8}])}else t.editor.setModelMarkers(n.current.getModel(),i,[])},[JSON.stringify(c),n.current]),E.useEffect(()=>{t&&(t.languages.typescript.typescriptDefaults.setEagerModelSync(!0),t.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0}))},[t]);function p(f,v){f&&(n.current=f,f.onDidContentSizeChange(()=>{o(Math.min(Math.max(100,f.getContentHeight()),1e3)),f.layout()}))}return be("div",{className:"relative",children:[be("div",{className:"sticky top-1 w-full flex justify-between mb-2 z-50 max-w-full bg-white",children:[q(ci,{onClick:()=>e.setRawMode(!1),children:"View in rich-text editor 📝"}),q(li,{error:c})]}),q("div",{style:{height:`${r}px`},children:q(hr,{beforeMount:()=>{},height:"100%",width:"100%",path:i,onMount:p,options:{scrollBeyondLastLine:!1,tabSize:2,disableLayerHinting:!0,accessibilitySupport:"off",codeLens:!1,wordWrap:"on",minimap:{enabled:!1},fontSize:14,lineHeight:2,formatOnPaste:!0,lineNumbers:"on",lineNumbersMinChars:2,formatOnType:!0,fixedOverflowWidgets:!0,folding:!1,renderLineHighlight:"none",scrollbar:{verticalScrollbarSize:4,horizontalScrollbarSize:4,alwaysConsumeMouseWheel:!1}},language:"markdown",value:l,onChange:f=>{try{d(f)}catch(v){console.log("error",v)}}})})]})},ci=e=>q("button",{className:`${e.align==="left"?"rounded-l border-r-0":"rounded-r border-l-0"} flex justify-center w-full shadow rounded bg-white cursor-pointer relative inline-flex items-center px-2 py-2 border border-gray-200 hover:text-white text-sm font-medium transition-all ease-out duration-150 hover:bg-blue-500 focus:z-10 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500`,type:"button",onClick:e.onClick,children:q("span",{className:"text-sm font-semibold tracking-wide align-baseline mr-1",children:e.children})}),mi=si;export{mi as default};
